(this["webpackJsonpreact-around-auth"]=this["webpackJsonpreact-around-auth"]||[]).push([[0],{22:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAK0AAAAhCAMAAACcA9vSAAAAOVBMVEUAAAD///////////////////////////////////////////////////////////////////////8KOjVvAAAAEnRSTlMA359gIEC/EIDvMJDPcFCvoI+3yzpmAAADEklEQVRYw82Wi3LjIAxFJUC8/Er5/49dBCECO+NO7d1u7kwdohpxgIsI/F+tWGTWCXbaYn4YLO1oQ1AOPkEPnR9a7cOWmDaVNhK4ycMn6EnrrTIAcbPKDbRthV2ET1ClDWQmC2Ym4+1hbWdF8CGqtFtZwoUNEdye1mmLn+bbTPsImGUG2ipe+V6rzoLfkclD0RvaZZKasHAxQOCnbk0Rpqxf8gflodQbWoMRyD5rGwHNHowHhxqcUkC+S8Da4ILu0XpitiXT5ghZtLHGtUVc+KNE0TtuNqnECv/ey0J7QyEVLfBOn0arc3/Lf/BGH0fLpJEfRys4YyQo7RNJx3eh+7Qmd0dY8tNLDNnmZQq6DrVwO6F6QazllacsYt2ZHMwofuZzoHpgXforc5dWF043WMFwLIbUaAlT09fQTUoglgZncba9q1/55lfoJi0nMtUPNNDia8Q1dbLf0apUJQmNTDboW7QMNgMUK0x9MKS0aa1j/hb4HXIQH2V1z2lDCp4MPbqZFX5FJmpM4Rbt9Fw/xwP1tAljV4+37iKhU9qE1a8Lt13tJP6f0y1arEZ4WUFoV/nCBFWet+CMVtxqWw7V2d3coqXXfjVDSZ14aunzu5BSOKd1u12D0BaEtd2hVbJJQW5fI3sviy7fzBktSrGpqeNQbm6csmHeG2cXWtUXjdHn649oaeCLN2h1KeNVcvuOtDjQemb4Ge148dyg3dJO7u/TrlIb762tSXv597RucAL92Lfq3q8aSYi2Saww0G6HUxb3tOmM1khQKswFSUmUI0cHWrnl+qHX7hU6pQXsp2uv0MoFu7vX/EjbbjkjFa/+J3ZRPKeduhK2psu0064nMcHx4PKVP5t2xlrFCy3qbDqnpe5A4FVa2aLRCgdaV9ZuIVptHVfA06ZsSIhntHVV0qxp/crvXqWlLrcQTMeiGEMSTTKHJvMNrZtTE9JFWvHgaAU30o4/UMNyCAaCb2jBPRqsMVdpvVIq7pycQ5Sz5w8NvdbHnLmsd31QbzNu3pVuX3UBSqOKaq4qyv3D7J2k/qH+ACe1RzEbTa9QAAAAAElFTkSuQmCC"},23:function(e,t){e.exports="data:image/png;base64,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"},24:function(e,t){e.exports="data:image/png;base64,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"},26:function(e,t,a){e.exports=a(37)},36:function(e,t,a){},37:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(18),l=a.n(r),c=a(6),i=a(12),s=a(1),u=a(2),m=a(19),d=a(20),p=new(function(){function e(t){var a=t.server,n=t.headers;Object(m.a)(this,e),this.server=a,this.headers=n}return Object(d.a)(e,[{key:"getCardList",value:function(){return fetch("".concat(this.server,"/cards"),{headers:this.headers}).then((function(e){return e.ok?e.json():Promise.reject("Error: "+e.status)}))}},{key:"getUserInfo",value:function(){return fetch("".concat(this.server,"/users/me/"),{headers:this.headers}).then((function(e){return e.ok?e.json():Promise.reject("Error: "+e.status)}))}},{key:"getAppInfo",value:function(){return Promise.all([this.getCardList(),this.getUserInfo()])}},{key:"addCard",value:function(e){var t=e.caption,a=e.imageUrl;return fetch("".concat(this.server,"/cards"),{method:"POST",headers:this.headers,body:JSON.stringify({name:t,link:a})}).then((function(e){return e.ok?e.json():Promise.reject("Error: "+e.status)}))}},{key:"toggleLike",value:function(e,t){var a=t?"DELETE":"PUT";return fetch("".concat(this.server,"/cards/likes/").concat(e,"/"),{method:a,headers:this.headers}).then((function(e){if(e.ok)return e.json()}))}},{key:"deleteCard",value:function(e){return fetch(this.server+"/cards/".concat(e,"/"),{method:"DELETE",headers:this.headers}).then((function(e){return e.ok?e.json():Promise.reject("Error: "+e.status)}))}},{key:"updateUserInfo",value:function(e){var t=e.name,a=e.about;return fetch("".concat(this.server,"/users/me/"),{method:"PATCH",headers:this.headers,body:JSON.stringify({name:t,about:a})}).then((function(e){if(e.ok)return e.json()}))}},{key:"setUserAvatar",value:function(e){return fetch("".concat(this.server,"/users/me/avatar/"),{method:"PATCH",headers:this.headers,body:JSON.stringify({avatar:e})}).then((function(e){if(e.ok)return e.json()}))}}]),e}())({server:"https://around.nomoreparties.co/v1/group-2",headers:{authorization:"7c532e9d-132b-43e0-b1d4-55c21c0fd902","Content-Type":"application/json"}});function h(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"overlay"+(e.isOpen&&e.name.startsWith("credentials")?" overlay_remove":" overlay")}),o.a.createElement("section",{className:"modal modal_".concat(e.name)+(e.isOpen?" modal_visible":"")},o.a.createElement("div",{className:"modal__container"},o.a.createElement("button",{className:"modal__close modal__close_".concat(e.name)+(e.name.startsWith("credentials")?" modal__close_removed":" modal__close"),onClick:e.onClose}),o.a.createElement("div",{className:"modal__background modal__background_".concat(e.name)},o.a.createElement("form",{action:"#",className:"modal__form modal__form_".concat(e.name),noValidate:!0,onSubmit:e.onSubmit},o.a.createElement("h3",{className:"modal__title modal__title_".concat(e.name)},e.title),e.children,o.a.createElement("button",{className:"modal__save-btn modal__save-btn_".concat(e.name)+(e.name.startsWith("tooltip")?" modal__save-btn_removed":" modal__save-btn"),type:"submit"},e.text))))))}function f(e){var t=o.a.useState(""),a=Object(s.a)(t,2),n=a[0],r=a[1],l=o.a.useState(""),c=Object(s.a)(l,2),i=c[0],u=c[1];return o.a.createElement(h,{name:"image",title:"New place",isOpen:e.isOpen,onClose:e.onClose,onSubmit:function(t){t.preventDefault(),e.onAddNewCard({caption:n,imageUrl:i})},text:"Create"},o.a.createElement("fieldset",{className:"modal__fieldset"},o.a.createElement("label",null,o.a.createElement("input",{className:"modal__input modal__input_caption",id:"image-caption",name:"card-caption",type:"text",placeholder:"Title",defaultValue:"",minLength:"1",maxLength:"100",onChange:function(e){r(e.target.value)},required:!0}),o.a.createElement("span",{className:"modal__input_error",id:"image-caption-error"})),o.a.createElement("label",null,o.a.createElement("input",{className:"modal__input modal__input_image-link",id:"image-link",name:"card-link",type:"url",placeholder:"Image link",defaultValue:"",onChange:function(e){u(e.target.value)},required:!0}),o.a.createElement("span",{className:"modal__input_error",id:"image-link-error"}))))}var g=o.a.createContext();function E(e){var t=o.a.useRef("");return o.a.createElement(o.a.Fragment,null,o.a.createElement(h,{name:"avatar",title:"Change profile picture",isOpen:e.isOpen,onClose:e.onClose,onSubmit:function(a){a.preventDefault(),e.onUpdateAvatar({avatar:t})},text:"Save"},o.a.createElement("fieldset",{className:"modal__fieldset"},o.a.createElement("label",null,o.a.createElement("input",{className:"modal__input modal__input_avatar-link",id:"avatar",name:"avatar",type:"url",placeholder:"Profile photo link",ref:t,required:!0}),o.a.createElement("span",{className:"modal__input_error",id:"avatar-error"})))))}function b(e){var t=o.a.useContext(g),a=o.a.useState(""),n=Object(s.a)(a,2),r=n[0],l=n[1],c=o.a.useState(""),i=Object(s.a)(c,2),u=i[0],m=i[1];return o.a.useEffect((function(){l(t&&t.name),m(t&&t.about)}),[t]),o.a.createElement(h,{name:"profile",title:"Edit profile",isOpen:e.isOpen,onClose:e.onClose,onSubmit:function(t){t.preventDefault(),e.onUpdateUser({name:r,about:u})},text:"Save"},o.a.createElement("fieldset",{className:"modal__fieldset"},o.a.createElement("label",null,o.a.createElement("input",{className:"modal__input modal__input_name",name:"name",type:"text",placeholder:"Name",minLength:"2",maxLength:"40",id:"profile-name",value:r||"",onChange:function(e){l(e.target.value)}}),o.a.createElement("span",{className:"modal__input_error",id:"profile-name-error"})),o.a.createElement("label",null,o.a.createElement("input",{className:"modal__input modal__input_description",name:"about",type:"text",placeholder:"About me",minLength:"2",maxLength:"200",id:"profile-description",value:u||"",onChange:function(e){m(e.target.value)}}),o.a.createElement("span",{className:"modal__input_error",id:"profile-description-error"}))))}function v(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement("section",{className:"modal modal_photo"+(e.card?" modal_visible":"")},o.a.createElement("figure",{className:"modal__container"},o.a.createElement("button",{className:"modal__close",onClick:e.onClose}),o.a.createElement("img",{className:"modal_photo__image",src:e.card?e.card.link:"",alt:e.card?e.card.title:""}),o.a.createElement("figcaption",{className:"modal_photo__caption"},e.card?e.card.title:""))))}function A(){return o.a.createElement("footer",{className:"footer"},o.a.createElement("p",{className:"footer__copyright"},"\xa9 2020 Around the U.S."))}var _=function(e){var t=e.loggedIn,a=e.userEmail,n=e.handleLogout;return o.a.createElement(o.a.Fragment,null,t&&o.a.createElement("ul",{className:"header__nav"},o.a.createElement("li",{className:"header__nav-email"},a),o.a.createElement("li",null,o.a.createElement(c.b,{className:"header__nav-logout",onClick:n,to:"/signin"},"Log out"))))},C=a(22),N=a.n(C);function S(e){var t=e.loggedIn,a=e.userEmail,n=e.handleLogout;return o.a.createElement("header",{className:"header"},o.a.createElement("img",{className:"header__logo",alt:"Around the U.S. logo.",src:N.a}),o.a.createElement(_,{loggedIn:t,userEmail:a,handleLogout:n}))}var O=a(23),k=a.n(O),w=a(24),j=a.n(w);var y=function(e){return o.a.createElement(h,{className:"modal__background modal__background_tooltip modal_tooltip",name:"tooltip",isOpen:e.isOpen,onClose:e.onClose},o.a.createElement("img",{src:"success"===e.feedback?k.a:j.a,alt:"success or failure feedback icon"}),o.a.createElement("h2",{className:"modal__title modal__title_tooltip"},"success"===e.feedback?"Success! You have now been registered.":"Oops, something went wrong! Please try again."))};var V=function(e){var t=e.loggedIn,a=(e.handleLogin,e.userEmail),r=e.setUserEmail,l=e.handleLoginSubmit,i=Object(n.useState)(""),m=Object(s.a)(i,2),d=m[0],p=m[1],f=Object(n.useState)(""),g=Object(s.a)(f,2),E=g[0],b=g[1],v=Object(u.g)();return o.a.useEffect((function(){localStorage.getItem("jwt")&&(v.push("/home"),r(d||a))}),[v,d,a,r]),o.a.useEffect((function(){t&&(v.push("/home"),r(d||a))}),[v,d,t,a,r]),o.a.createElement(o.a.Fragment,null,o.a.createElement(h,{name:"credentials",title:"Log in",isOpen:!0,text:"Log in",onSubmit:l,to:"/home"},o.a.createElement(c.b,{className:"credentials-page__swap-btn",to:"/signup"},"Sign up"),o.a.createElement("input",{className:"modal__input modal__input_credentials",type:"email",id:"email",placeholder:"Email",value:d,onChange:function(e){return p(e.target.value)},required:!0}),o.a.createElement("input",{className:"modal__input modal__input_credentials",type:"password",id:"password",placeholder:"Password",value:E,onChange:function(e){return b(e.target.value)},required:!0}),o.a.createElement(c.b,{className:"modal__background_credentials__swap-link",to:"/signup"},"Not a member yet? Sign up here!")))};function I(e){var t=o.a.useContext(g),a=t&&e.card.owner._id===t._id,n="grid__photos-delete ".concat(a?"grid__photos-delete":"grid__photos-delete_hidden"),r=t&&e.card.likes.some((function(e){return e._id===t._id})),l="grid__photos-liker ".concat(r&&"grid__photos-liker_on");return o.a.createElement(o.a.Fragment,null,o.a.createElement("li",{className:"grid__photos-item"},o.a.createElement("div",{className:"grid__photos-img-area"},o.a.createElement("button",{className:n,onClick:function(){e.onCardDelete(e.card)}}),o.a.createElement("div",{className:"grid__photos-image grid__photos-image_sequoia",style:{backgroundImage:"url(".concat(e.card.link,")")},onClick:function(){e.onCardClick(e.card)}})),o.a.createElement("div",{className:"grid__photos-base"},o.a.createElement("h2",{className:"grid__photos-caption"},e.card.name),o.a.createElement("div",{className:"grid__photos-like-container"},o.a.createElement("button",{className:l,onClick:function(){e.onCardLike(e.card)}}),o.a.createElement("p",{className:"grid__photos-like-counter"},e.card.likes.length)))))}function L(e){var t=o.a.useContext(g);return o.a.createElement(o.a.Fragment,null,o.a.createElement("section",{className:"profile"},o.a.createElement("div",{className:"profile__avatar-elements"},o.a.createElement("img",{className:"profile__avatar",alt:"User's profile.",src:t&&t.avatar,onClick:e.onEditAvatar}),o.a.createElement("button",{className:"profile__avatar-button","aria-label":"Update profile photo",onClick:e.onEditAvatar})),o.a.createElement("div",{className:"profile__info-set"},o.a.createElement("h1",{className:"profile__info profile__info_name"},t&&t.name),o.a.createElement("p",{className:"profile__info profile__info_description"},t&&t.about)),o.a.createElement("button",{className:"profile__edit-button","aria-label":"Edit profile",onClick:e.onEditProfile}),o.a.createElement("button",{className:"profile__add-button","aria-label":"Add new image",onClick:e.onAddPlace})),o.a.createElement("div",{className:"grid"},o.a.createElement("ul",{className:"grid__photos"},e.cards.map((function(t){return o.a.createElement(I,{key:t._id,card:t,onCardClick:e.onCardClick,onCardLike:e.onCardLike,onCardDelete:e.onCardDelete})})))))}var P=a(25),x=function(e){var t=e.component,a=Object(P.a)(e,["component"]);return o.a.createElement(u.b,null,(function(){return a.loggedIn?o.a.createElement(t,a):o.a.createElement(u.a,{to:"./signin"})}))},Q="https://register.nomoreparties.co";var U=function(e){e.handleLogin,e.handleTooltip;var t=e.handleRegisterSubmit,a=Object(n.useState)(""),r=Object(s.a)(a,2),l=r[0],i=r[1],m=Object(n.useState)(""),d=Object(s.a)(m,2),p=d[0],f=d[1],g=Object(n.useState)(""),E=Object(s.a)(g,2),b=(E[0],E[1],Object(n.useState)("")),v=Object(s.a)(b,2),A=(v[0],v[1],Object(u.g)());return o.a.useEffect((function(){localStorage.getItem("jwt")&&A.push("/home")}),[A]),o.a.createElement(o.a.Fragment,null,o.a.createElement(h,{title:"Sign up",name:"credentials",text:"Sign up",isOpen:!0,onSubmit:t},o.a.createElement(c.b,{className:"credentials-page__swap-btn",to:"/signin"},"Log in"),o.a.createElement("input",{className:"modal__input modal__input_credentials",type:"email",id:"email",placeholder:"Email",value:l,onChange:function(e){return i(e.target.value)},required:!0}),o.a.createElement("input",{className:"modal__input modal__input_credentials",type:"password",id:"password",placeholder:"Password",value:p,onChange:function(e){return f(e.target.value)},required:!0}),o.a.createElement("button",{className:"modal__save-btn modal__save-btn_credentials",type:"submit",to:"/home"},"Sign up"),o.a.createElement(c.b,{className:"modal__background_credentials__swap-link",to:"/signin"},"Already a member? Log in here!")))};var R=Object(u.h)((function(e){var t=o.a.useState(!1),a=Object(s.a)(t,2),n=a[0],r=a[1],l=o.a.useState(!1),c=Object(s.a)(l,2),m=c[0],d=c[1],_=o.a.useState(!1),C=Object(s.a)(_,2),N=C[0],O=C[1],k=o.a.useState(!1),w=Object(s.a)(k,2),j=w[0],I=w[1],P=o.a.useState(!1),R=Object(s.a)(P,2),W=R[0],Y=R[1],q=o.a.useState(!1),X=Object(s.a)(q,2),T=X[0],F=X[1],D=o.a.useState(!1),B=Object(s.a)(D,2),J=B[0],H=B[1],K=o.a.useState(null),z=Object(s.a)(K,2),M=z[0],Z=z[1],G=o.a.useState([]),$=Object(s.a)(G,2),ee=$[0],te=$[1],ae=o.a.useState(null),ne=Object(s.a)(ae,2),oe=ne[0],re=ne[1],le=o.a.useState(!1),ce=Object(s.a)(le,2),ie=ce[0],se=ce[1],ue=o.a.useState(!1),me=Object(s.a)(ue,2),de=me[0],pe=me[1],he=o.a.useState(!1),fe=Object(s.a)(he,2),ge=fe[0],Ee=fe[1],be=o.a.useState(""),ve=Object(s.a)(be,2),Ae=ve[0],_e=ve[1],Ce=o.a.useState(""),Ne=Object(s.a)(Ce,2),Se=Ne[0],Oe=Ne[1],ke=o.a.useState(""),we=Object(s.a)(ke,2),je=(we[0],we[1]),ye=Object(u.g)();function Ve(){I(!0)}function Ie(){O(!1),d(!1),r(!1),I(!1),Y(!1),F(!1),Z(null)}function Le(){se(!0)}function Pe(e){H(e),F(!0)}o.a.useEffect((function(){te(ee)}),[ee]);var xe=function(){localStorage.removeItem("jwt"),se(!1),ye.push("/signin")};return o.a.useEffect((function(){p.getUserInfo().then((function(e){re(e),p.getCardList().then((function(e){e&&te((function(t){return[].concat(Object(i.a)(t),Object(i.a)(e))}))})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))}),[]),o.a.useEffect((function(){var e,t=localStorage.getItem("jwt");t?(e=t,fetch("".concat(Q,"/users/me"),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(e)}}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))})).then((function(e){return e}))).then((function(e){se(!0),Ee(e.data.email)})).catch((function(e){console.log(e)})):se(!1)}),[]),o.a.createElement(g.Provider,{value:oe},o.a.createElement("div",{className:"page"},o.a.createElement("div",{className:"page__container"},o.a.createElement(S,{loggedIn:ie,userEmail:ge,handleLogout:xe}),o.a.createElement(u.d,null,o.a.createElement(u.b,{exact:!0,path:"/signin"},o.a.createElement(V,{handleLogin:Le,handleLoginSubmit:function(e){e.preventDefault();var t=[e.target.email.value,e.target.password.value],a=t[0],n=t[1];(function(e,t){return fetch("".concat(Q,"/signin"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})}).then((function(e){return e.json()})).then((function(e){return e.message?void 0:(localStorage.setItem("jwt",e.token),e)})).catch((function(e){return console.log(e)}))})(a,n).then((function(e){if(e)Le(),ye.push("/home");else{if(_e(""),Oe(""),je(""),!a||!n)throw new Error("400 - uh oh, something is off with those credentials!");if(!e)throw new Error("We cannot seem to find that user -- are you sure they exist?")}})).catch((function(e){return je(e.message)}))},feedback:J,handleLogout:xe,userEmail:ge,setUserEmail:Ee,handleTooltip:Pe,password:Se,setPassword:Oe})),o.a.createElement(u.b,{exact:!0,path:"/signup"},o.a.createElement(U,{handleRegisterSubmit:function(e){e.preventDefault();var t=[e.target.email.value,e.target.password.value];(function(e,t){return fetch("".concat(Q,"/signup"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})}).then((function(e){return e.json()})).then((function(e){return e}))})(t[0],t[1]).then((function(e){if(!e.data)throw Pe("failure"),new Error("".concat(e.message?e.message:e.error))})).then((function(e){pe(!0),ye.push("/signin")})).then((function(e){return Pe("success"),e})).catch((function(e){console.log(e)}))},registered:de,handleLogin:Le,userEmail:ge,setUserEmail:Ee,email:Ae,password:Se,setPassword:Oe,handleTooltip:Pe,feedback:J,handleLogout:xe}),o.a.createElement(y,{isOpen:T,onClose:Ie,feedback:J,loggedIn:ie})),o.a.createElement(u.b,{exact:!0,path:"/"},ie?o.a.createElement(u.a,{to:"/home"}):o.a.createElement(u.a,{to:"/signin"})),o.a.createElement(u.b,{path:"/home"},o.a.createElement(b,{isOpen:m,onClose:Ie,onUpdateUser:function(e){var t=e.name,a=e.about;p.updateUserInfo({name:t,about:a}).then((function(e){re(e)})).then((function(e){Ie()})).catch((function(e){console.log(e)}))}}),o.a.createElement(E,{isOpen:n,onClose:Ie,onUpdateAvatar:function(e){var t=e.avatar;p.setUserAvatar(t.current.value).then((function(e){re(e)})).then((function(e){Ie()})).catch((function(e){console.log(e)}))}}),o.a.createElement(f,{isOpen:N,onClose:Ie,onAddNewCard:function(e){var t=e.caption,a=e.imageUrl;p.addCard({caption:t,imageUrl:a}).then((function(e){te([].concat(Object(i.a)(ee),[e]))})).then((function(e){Ie()})).catch((function(e){console.log(e)}))}}),o.a.createElement(h,{name:"delete",title:"Are you sure?",isOpen:j,onClose:Ie,onDeletePlace:Ve,text:"Yes"}),o.a.createElement(v,{isOpen:W,onClose:Ie,card:M}),o.a.createElement(x,{path:"/home",component:L,loggedIn:ie,onEditProfile:function(){d(!0)},onAddPlace:function(){O(!0)},onEditAvatar:function(){r(!0)},onCardClick:function(e){Z(e)},onCardDelete:Ve,onClosePopups:Ie,onCardLike:function(e){var t=e.likes.some((function(e){return e._id===oe._id}));p.toggleLike(e._id,t).then((function(t){var a=ee.map((function(a){return a._id===e._id?t:a}));te(a)}))},isEditProfilePopupOpen:m,isAddPlacePopupOpen:N,isDeletePlacePopupOpen:j,isEditAvatarPopupOpen:n,isImagePopupOpen:W,selectedCard:M,cards:ee}),o.a.createElement(A,null)),o.a.createElement(u.a,{from:"*",to:"/"})))))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(36);l.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(c.a,null,o.a.createElement(R,{path:"/"}))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[26,1,2]]]);
//# sourceMappingURL=main.02f2a753.chunk.js.map